<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Assignment Day 4</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div
      style="height: 100vh; width: 100%; background-color: rgb(115, 180, 255)"
    >
      <xpm>
        <pre>
          let options = {
            root: null,
            rootMargin: "100px 0px 0px 0px",
            threshold: 1,
          };
          let observer = new IntersectionObserver(animate, options);
          let target = document.querySelectorAll(".box");
          target.forEach((box) => {
            observer.observe(box);
          });
          
          function handleRotateOnce(entry, observer) {
            entry.target.classList.add("animate");
            observer.unobserve(entry.target);
          }
          
          function handleRotateEveryTime(entry) {
            entry.target.classList.add("animate");
            entry.target.addEventListener("animationend", function handleAnimationEnd() {
              entry.target.classList.remove("animate");
              entry.target.removeEventListener("animationend", handleAnimationEnd);
            });
          }
          
          function animate(entries, observer) {
            entries.forEach((entry) => {
              if (!entry.isIntersecting) return;
          
              if (entry.target.classList.contains("rotate-once")) {
                handleRotateOnce(entry, observer);
              } else if (entry.target.classList.contains("rotate-every-time")) {
                handleRotateEveryTime(entry);
              }
            });
          }
          
          
      
    </pre
        >
      </xpm>
    </div>
    <div
      style="
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 200px;
        margin: 100px 0px;
      "
    >
      <div class="box rotate-once"></div>
      <div class="box rotate-every-time"></div>
    </div>
    <div
      style="height: 100vh; width: 100%; background-color: rgb(115, 180, 255)"
    ></div>
    <script src="script.js"></script>
  </body>
</html>
